# e_api_get_histrical_price_daily.py
ｅ支店APIで、日足株価データを取得する。 

ファイル名: e_api_get_histrical_price_daily.py


APIバージョン： v4r3で動作確認

ご注意！！ ================================

	本番環境に接続した場合、実際に注文等が出せます。
	市場で条件が一致して約定した場合、取り消せません。
	十分にご注意いただき、ご利用ください。

=========================================


1）動作テストを実行した環境は、os: Centos7.4、python: 3.6.8 です。

２）事前に立花証券ｅ支店に口座開設が必要です。

３）利用時に変数を設定してください。

	コードの開始部分の「利用時に変数を設定してください」のセクションで、
  
	変数、url_base、my_userid等を実際のurl、ご自身のユーザーID、パスワード等に変更してください。
  
	変更しない場合、APIを利用できません。


４)実行はコマンドプロンプト等からpython環境で起動してください。


５）実行内容は、以下になります。

	5-1）ログインして仮想URL（request, master, price, event）を取得します。

	5-2）指定銘柄の日足株価データを取得します。

	5-3）取得した株価をファイルに出力します。
  
  	5-4) ログアウトを実行します。
  
	
	上記に付随して、送信データや受信データを適宜print()文で出力します。


６）取得した文字列に日本語が入った場合、文字コードはshift-jisです。

７）利用時間外に接続した場合、"p_errno":"9"（システム、サービス停止中。）が返されます。

	詳しくは「立花証券・ｅ支店・ＡＰＩ、EVENT I/F 利用方法、データ仕様」4ページをご参照ください。
  
	なおデモ環境のご利用時間はデモ環境の案内ページでください。
  
８）本サンプルプログラムは、事務方の者が休日や空き時間に作成したため、色々足りておりません。ご容赦ください。

９）本プログラムは自由にご使用ください。

１０）このソフトウェアを使用したことによって生じたすべての障害・損害・不具合等に関して、私と私の関係者および私の所属するいかなる団体・組織とも、一切の責任を負いません。各自の責任においてご使用ください。

１１）追記、「指数・為替の株価取得.csv」を追加しました。

	指数と為替で、
	  a)株価のスナップショット（e_api_get_price_from_file.py）
	  b)株価の日足（e_api_get_histrical_price_daily.py ）
	を利用して取得できる情報を調べました。
	指数、為替の銘柄コード、銘柄名は、銘柄マスターの個別取得（e_api_get_master_kobetsu.py ）で、
	sTargetCLMID:'CLMIssueMstOther'と指定することで取得できます。
 	なお取得できる銘柄や「取得できる最初の日付」の項目は、2023年4月の調査時点でのものになります。
  	ベンダーの算出停止による銘柄の廃止や、データ更新等により、内容が変わりますので、ご注意ください。
